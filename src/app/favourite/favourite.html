<div class="relative w-full h-[45vh]  overflow-hidden shadow-md">

  <img src="../../assets/hero-wishlist.jpg"
       alt="Luxury car"
       class="absolute inset-0 w-full h-full object-cover opacity-70" />

  <div class="absolute inset-0 bg-black/50"></div>

  <div class="relative z-10 flex flex-col items-center justify-center h-full text-center px-4">
    <h1 class="text-3xl md:text-4xl font-bold text-white drop-shadow-lg">
      Your Dream Space Awaits
    </h1>
    <p class="mt-3 text-lg text-gray-200 max-w-xl drop-shadow">
      Where comfort meets style — explore your perfect ride today.
    </p>
  </div>
</div>

@if (isLoading()) {
<div class="flex justify-center items-center min-h-[50vh] bg-black">
  <app-load-spinner></app-load-spinner>
</div>
}

@else if (carList().length) {
@if (alertType) {
<div class="px-4 py-3 bg-black">
  <app-alert-message [type]="alertType"
                     [message]="alertMessage"
                     (close)="alertType = null; alertMessage = ''"></app-alert-message>
</div>
}

<div class="w-full flex justify-center px-4 py-11 bg-black text-lime-300">
  <p class="text-3xl font-bold flex items-center gap-3">
    <span>Your Wishlist Contains</span>
    <span class="w-12 h-12 flex items-center justify-center bg-red-600 text-white text-3xl rounded-full">
      {{ wishlistCount() }}
    </span>
    <span>Dream Cars</span>
  </p>
</div>

<div
     class="car-card-section grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4 gap-8 px-4 py-8 bg-black text-lime-300">

  @for (car of carList(); track $index) {
  <div class="witcher-card-container"
       @cardAnimation>

    <div class="witcher-card"
         tabindex="0">

      <div class="witcher-card-corner top-left"></div>
      <div class="witcher-card-corner top-right"></div>
      <div class="witcher-card-corner bottom-left"></div>
      <div class="witcher-card-corner bottom-right"></div>

      <div class="witcher-card-content">

        <div class="witcher-image-wrapper">
          <img [src]="car.img"
               [alt]="car.name"
               class="witcher-image" />
        </div>

        <div class="witcher-title-row">
          <h2>{{ car.name }} • {{ car.model }}</h2>
          <div class="witcher-rating">
            ★ {{ car.ratings }}
          </div>
        </div>

        <div class="witcher-status-row">
          <span class="witcher-available">{{ car.availabilty }}</span>
          <span class="witcher-delivery">{{ car.deliveryType }}</span>
        </div>

        <div class="witcher-specs-row">
          <span>{{ car.carType }}</span>
          <span>{{ car.transmission }}</span>
          <span>{{ car.seater }} Seater</span>
          <span>{{ car.fuelType }}</span>
        </div>

        <div class="witcher-price-row">
          <div class="witcher-price">
            ₹{{ car.price }} <small>/hr</small>
          </div>
          <div class="witcher-location">
            {{ car.location }}
          </div>
        </div>

        <div class="witcher-actions">
          <button class="Btn btn-delete"
                  (click)="onDelete(car)">
            Delete from Wishlist
          </button>

          <button class="Btn btn-checkout"
                  (click)="onAddToCheckout(car)">
            Add to Checkout
          </button>
        </div>

      </div>
    </div>
  </div>
  }

</div>
}

@else {
<div class="flex flex-col items-center justify-center min-h-[50vh] px-4 text-center bg-black text-lime-300">

  <div class="w-28 h-28 mb-6 flex items-center justify-center rounded-full bg-red-50 shadow-inner">
    <img src="../../assets/icons/empty-cart_574u.svg"
         alt="Empty wishlist"
         class="w-20 h-20 object-contain opacity-90" />
  </div>

  <h2 class="text-4xl font-bold mb-6">
    Your Wishlist Is Empty
  </h2>

  <p class="text-white max-w-3xl mb-10 text-xl font-semibold leading-loose">
    You haven’t added any cars to your dream space yet.
    Start exploring and save your favorites to see them here.
  </p>

  <button type="button"
          [routerLink]="['/fleet']"
          class="bg-red-950 text-red-400 border border-red-400 border-b-4 font-medium overflow-hidden relative px-6 py-3 rounded-md hover:brightness-150 hover:border-t-4 hover:border-b active:opacity-75 outline-none duration-300 group cursor-pointer">
    <span class="bg-red-400 shadow-red-400 absolute -top-[150%] left-0 inline-flex w-80 h-1.25 rounded-md opacity-50
               group-hover:top-[150%] duration-500 shadow-[0_0_10px_10px_rgba(0,0,0,0.3)]"></span>
    Explore Cars
  </button>

</div>
}